<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="This package provides a few simple functions that can be used
    to query the StatBank from Statistics Denmark.">
<title>API connection to the StatBank from Statistics Denmark. • dkstat</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="apple-touch-icon-60x60.png">
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.1.0/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.1.0/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="API connection to the StatBank from Statistics Denmark.">
<meta property="og:description" content="This package provides a few simple functions that can be used
    to query the StatBank from Statistics Denmark.">
<meta property="og:image" content="https://ropengov.github.io/dkstat/logo.png">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:creator" content="@rOpenGov">
<meta name="twitter:site" content="@rOpenGov">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=B612+Mono&amp;display=swap" rel="stylesheet">
<!-- rogtemplate style sheet --><link href="BS5/rogtemplate.css" rel="stylesheet">
</head>
<body>
    <a href="#container" class="visually-hidden-focusable">Skip to content</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-dark"><div class="container">
    <a class="navbar-brand me-2" href="index.html">dkstat</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.08</small>

    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-2">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="reference/index.html">Reference</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Search" name="search-input" data-search-index="search.json" id="search-input" placeholder="Search..." autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/rOpenGov/dkstat/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
  </div>
</nav><div class="container template-home" id="container">
<div class="row">
  <div class="contents col-md-9">
<div class="section level1">
<div class="page-header">
<img src="logo.png" class="logo" alt=""><h1 id="dkstat-">dkstat 
<a class="anchor" aria-label="anchor" href="#dkstat-"></a>
</h1>
</div>
<!-- badges: start -->

<p>This package connects to the <a href="http://www.statistikbanken.dk/statbank5a/" class="external-link">StatBank</a> API from <a href="http://www.dst.dk" class="external-link">Statistics Denmark</a>.</p>
<p>This package is in early <em>BETA</em> and new changes will most likely not have backward compatibility.</p>
<div class="section level3">
<h3 id="a-short-message-in-danish">A short message in Danish<a class="anchor" aria-label="anchor" href="#a-short-message-in-danish"></a>
</h3>
<p>Denne R Statistics pakke indeholder funktioner til at give dig adgang til data gennem API’en fra Danmarks Statistik. Funktionerne henter data fra Statistikbanken og retunerer data.frame objekter med værdierne du spørger efter i dit funktionskald.</p>
</div>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>You can only install the development version from github, using Hadley Wickham’s <a href="http://cran.r-project.org/web/packages/devtools/index.html" class="external-link">devtools</a> package:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="cf">if</span>(<span class="op">!</span><span class="kw">require</span>(<span class="st">"devtools"</span>)) <span class="kw">install.packages</span>(<span class="st">"devtools"</span>)</span>
<span id="cb1-2"><a href="#cb1-2"></a><span class="kw">library</span>(<span class="st">"devtools"</span>)</span>
<span id="cb1-3"><a href="#cb1-3"></a><span class="kw">install_github</span>(<span class="st">"rOpenGov/dkstat"</span>)</span></code></pre></div>
</div>
<div class="section level2">
<h2 id="examples">Examples<a class="anchor" aria-label="anchor" href="#examples"></a>
</h2>
<p>The default language is danish, but have got a lang parameter that you can change from “da” to “en” if you wan’t the data returned in English.</p>
<div class="section level3">
<h3 id="four-basic-function">Four basic function<a class="anchor" aria-label="anchor" href="#four-basic-function"></a>
</h3>
<p>There are four basic functions to learn:</p>
<ul>
<li>dst_search() This function makes it possible to search through the different tables for a word or a phrase.</li>
<li>dst_tables() This function downloads all the possible tables available.</li>
<li>dst_meta() This function lets you download the meta data for a specific table, so you can see the description, unit, variables and values you can download data for.</li>
<li>dst_get_data() lets you download the actual data you wan’t.</li>
</ul>
<p>Here are a few simple examples that will go through the basics of requesting data from the StatBank and the structure of the output.</p>
<p>First, we’ll load the package:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ropengov.github.io/dkstat/">dkstat</a></span><span class="op">)</span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="the-search-function">The search function<a class="anchor" aria-label="anchor" href="#the-search-function"></a>
</h2>
<p>The search function let’s you.. OK, you might know this already.</p>
<p>Here I search for gdp in the text field of the tables.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="reference/dst_search.html">dst_search</a></span><span class="op">(</span>string <span class="op">=</span> <span class="st">"bnp"</span>, field <span class="op">=</span> <span class="st">"text"</span><span class="op">)</span></code></pre></div>
<div class="sourceCode" id="cb4"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a><span class="co">##         id</span></span>
<span id="cb4-2"><a href="#cb4-2"></a><span class="co">## 396 CFABNP</span></span>
<span id="cb4-3"><a href="#cb4-3"></a><span class="co">## 901   NAN1</span></span>
<span id="cb4-4"><a href="#cb4-4"></a><span class="co">## 905  NAHL2</span></span>
<span id="cb4-5"><a href="#cb4-5"></a><span class="co">## 906  NAHO2</span></span>
<span id="cb4-6"><a href="#cb4-6"></a><span class="co">## 907 NAHD21</span></span>
<span id="cb4-7"><a href="#cb4-7"></a><span class="co">## 955   NKN1</span></span>
<span id="cb4-8"><a href="#cb4-8"></a><span class="co">## 959  NKHO2</span></span>
<span id="cb4-9"><a href="#cb4-9"></a><span class="co">## 973   NRHP</span></span>
<span id="cb4-10"><a href="#cb4-10"></a><span class="co">##                                                                  text</span></span>
<span id="cb4-11"><a href="#cb4-11"></a><span class="co">## 396                                        FoU udgifter i pct. af BNP</span></span>
<span id="cb4-12"><a href="#cb4-12"></a><span class="co">## 901 Forsyningsbalance, Bruttonationalprodukt (BNP), beskæftigelse mv.</span></span>
<span id="cb4-13"><a href="#cb4-13"></a><span class="co">## 905         1-2.1.1 Produktion, BNP og indkomstdannelse (hovedposter)</span></span>
<span id="cb4-14"><a href="#cb4-14"></a><span class="co">## 906            1-2.1.1 Produktion, BNP og indkomstdannelse (oversigt)</span></span>
<span id="cb4-15"><a href="#cb4-15"></a><span class="co">## 907                                  1 Produktion og BNP (detaljeret)</span></span>
<span id="cb4-16"><a href="#cb4-16"></a><span class="co">## 955 Forsyningsbalance, Bruttonationalprodukt (BNP), beskæftigelse mv.</span></span>
<span id="cb4-17"><a href="#cb4-17"></a><span class="co">## 959                       1-2.1.1 Produktion, BNP og indkomstdannelse</span></span>
<span id="cb4-18"><a href="#cb4-18"></a><span class="co">## 973                       1-2.1.1 Produktion, BNP og indkomstdannelse</span></span>
<span id="cb4-19"><a href="#cb4-19"></a><span class="co">##                                       unit             updated firstPeriod</span></span>
<span id="cb4-20"><a href="#cb4-20"></a><span class="co">## 396 Procent af bruttonationalprodukt (BNP) 2015-01-30T09:00:00        1997</span></span>
<span id="cb4-21"><a href="#cb4-21"></a><span class="co">## 901                                      - 2015-06-30T09:00:00        1966</span></span>
<span id="cb4-22"><a href="#cb4-22"></a><span class="co">## 905                               Mio. kr. 2015-06-30T09:00:00        1966</span></span>
<span id="cb4-23"><a href="#cb4-23"></a><span class="co">## 906                               Mio. kr. 2015-06-30T09:00:00        1995</span></span>
<span id="cb4-24"><a href="#cb4-24"></a><span class="co">## 907                               Mio. kr. 2014-11-06T09:00:00        1995</span></span>
<span id="cb4-25"><a href="#cb4-25"></a><span class="co">## 955                                      - 2015-08-31T09:00:00      1990K1</span></span>
<span id="cb4-26"><a href="#cb4-26"></a><span class="co">## 959                               Mio. kr. 2015-08-31T09:00:00      1990K1</span></span>
<span id="cb4-27"><a href="#cb4-27"></a><span class="co">## 973                                      - 2014-12-16T09:00:00        1993</span></span>
<span id="cb4-28"><a href="#cb4-28"></a><span class="co">##     latestPeriod active                                     variables</span></span>
<span id="cb4-29"><a href="#cb4-29"></a><span class="co">## 396         2013   TRUE                               pct af BNP, tid</span></span>
<span id="cb4-30"><a href="#cb4-30"></a><span class="co">## 901         2014   TRUE                   transaktion, prisenhed, tid</span></span>
<span id="cb4-31"><a href="#cb4-31"></a><span class="co">## 905         2014   TRUE                   transaktion, prisenhed, tid</span></span>
<span id="cb4-32"><a href="#cb4-32"></a><span class="co">## 906         2014   TRUE                   transaktion, prisenhed, tid</span></span>
<span id="cb4-33"><a href="#cb4-33"></a><span class="co">## 907         2013   TRUE                   transaktion, prisenhed, tid</span></span>
<span id="cb4-34"><a href="#cb4-34"></a><span class="co">## 955       2015K2   TRUE transaktion, prisenhed, sæsonkorrigering, tid</span></span>
<span id="cb4-35"><a href="#cb4-35"></a><span class="co">## 959       2015K2   TRUE transaktion, prisenhed, sæsonkorrigering, tid</span></span>
<span id="cb4-36"><a href="#cb4-36"></a><span class="co">## 973         2013   TRUE           område, transaktion, prisenhed, tid</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="download-the-tables">Download the tables<a class="anchor" aria-label="anchor" href="#download-the-tables"></a>
</h2>
<p>The dst_get_tables function downloads all the available tables that the search function use when searching for a word or a phrase.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="fu"><a href="reference/dst_get_tables.html">dst_get_tables</a></span><span class="op">(</span>lang <span class="op">=</span> <span class="st">"da"</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<div class="sourceCode" id="cb6"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a><span class="co">##      id                                                   text  unit</span></span>
<span id="cb6-2"><a href="#cb6-2"></a><span class="co">## 1 FOLK1                            Folketal den 1. i kvartalet Antal</span></span>
<span id="cb6-3"><a href="#cb6-3"></a><span class="co">## 2 FOLK2                                     Folketal 1. januar Antal</span></span>
<span id="cb6-4"><a href="#cb6-4"></a><span class="co">## 3 FOLK3                                     Folketal 1. januar Antal</span></span>
<span id="cb6-5"><a href="#cb6-5"></a><span class="co">## 4    FT           Folketal (summariske tal fra folketællinger) Antal</span></span>
<span id="cb6-6"><a href="#cb6-6"></a><span class="co">## 5 BEF5F Personer født på Færøerne og bosat i Danmark 1. januar Antal</span></span>
<span id="cb6-7"><a href="#cb6-7"></a><span class="co">## 6 BEF5G  Personer født i Grønland og bosat i Danmark 1. januar Antal</span></span>
<span id="cb6-8"><a href="#cb6-8"></a><span class="co">##               updated firstPeriod latestPeriod active</span></span>
<span id="cb6-9"><a href="#cb6-9"></a><span class="co">## 1 2015-08-11T09:00:00      2008K1       2015K3   TRUE</span></span>
<span id="cb6-10"><a href="#cb6-10"></a><span class="co">## 2 2015-02-10T09:00:00        1980         2015   TRUE</span></span>
<span id="cb6-11"><a href="#cb6-11"></a><span class="co">## 3 2015-02-10T09:00:00        2008         2015   TRUE</span></span>
<span id="cb6-12"><a href="#cb6-12"></a><span class="co">## 4 2015-02-10T09:00:00        1769         2015   TRUE</span></span>
<span id="cb6-13"><a href="#cb6-13"></a><span class="co">## 5 2015-02-10T09:00:00        2008         2015   TRUE</span></span>
<span id="cb6-14"><a href="#cb6-14"></a><span class="co">## 6 2015-02-10T09:00:00        2008         2015   TRUE</span></span>
<span id="cb6-15"><a href="#cb6-15"></a><span class="co">##                                                                  variables</span></span>
<span id="cb6-16"><a href="#cb6-16"></a><span class="co">## 1 område,køn,alder,civilstand,herkomst,oprindelsesland,statsborgerskab,tid</span></span>
<span id="cb6-17"><a href="#cb6-17"></a><span class="co">## 2                   alder,køn,herkomst,statsborgerskab,oprindelsesland,tid</span></span>
<span id="cb6-18"><a href="#cb6-18"></a><span class="co">## 3                                    fødselsdag,fødselsmåned,fødselsår,tid</span></span>
<span id="cb6-19"><a href="#cb6-19"></a><span class="co">## 4                                                       hovedlandsdele,tid</span></span>
<span id="cb6-20"><a href="#cb6-20"></a><span class="co">## 5                                       køn,alder,forældrenes fødested,tid</span></span>
<span id="cb6-21"><a href="#cb6-21"></a><span class="co">## 6                                       køn,alder,forældrenes fødested,tid</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="meta-data">Meta data<a class="anchor" aria-label="anchor" href="#meta-data"></a>
</h2>
<p>The dst_meta function retrieves meta data from the table you wan’t to take a closer look at. It can be used to create the final request, but if you can figure out the structure of the query you can define it yourself.</p>
<p>We’ll get some meta data from the <a href="http://www.statistikbanken.dk/AULAAR" class="external-link">AULAAR table</a>. The AULAAR table has net unemployment numbers.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">aulaar_meta</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/dst_meta.html">dst_meta</a></span><span class="op">(</span>table <span class="op">=</span> <span class="st">"AULAAR"</span>, lang <span class="op">=</span> <span class="st">"da"</span><span class="op">)</span></code></pre></div>
<p>The ‘dst_meta’ function returns a list with 4 objects: - basics - variables - values - basic_query</p>
<div class="section level3">
<h3 id="basics">Basics<a class="anchor" aria-label="anchor" href="#basics"></a>
</h3>
<p>Let’s see what the basics contains:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">aulaar_meta</span><span class="op">$</span><span class="va">basics</span></code></pre></div>
<div class="sourceCode" id="cb9"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1"></a><span class="co">## $id</span></span>
<span id="cb9-2"><a href="#cb9-2"></a><span class="co">## [1] "AULAAR"</span></span>
<span id="cb9-3"><a href="#cb9-3"></a><span class="co">## </span></span>
<span id="cb9-4"><a href="#cb9-4"></a><span class="co">## $text</span></span>
<span id="cb9-5"><a href="#cb9-5"></a><span class="co">## [1] "Fuldtidsledige (netto)"</span></span>
<span id="cb9-6"><a href="#cb9-6"></a><span class="co">## </span></span>
<span id="cb9-7"><a href="#cb9-7"></a><span class="co">## $description</span></span>
<span id="cb9-8"><a href="#cb9-8"></a><span class="co">## [1] "Fuldtidsledige (netto) efter køn, personer/pct. og tid"</span></span>
<span id="cb9-9"><a href="#cb9-9"></a><span class="co">## </span></span>
<span id="cb9-10"><a href="#cb9-10"></a><span class="co">## $unit</span></span>
<span id="cb9-11"><a href="#cb9-11"></a><span class="co">## [1] "Antal"</span></span>
<span id="cb9-12"><a href="#cb9-12"></a><span class="co">## </span></span>
<span id="cb9-13"><a href="#cb9-13"></a><span class="co">## $updated</span></span>
<span id="cb9-14"><a href="#cb9-14"></a><span class="co">## [1] "2015-06-19T09:00:00"</span></span></code></pre></div>
<p>There’s a table id, a short description, a unit description and when the table was updated.</p>
</div>
<div class="section level3">
<h3 id="variables">Variables<a class="anchor" aria-label="anchor" href="#variables"></a>
</h3>
<p>The variables in the list has a short description of each variable as well as the id. You might want to make sure that you have supplied all the ID’s where the elimination columns is equal to FALSE. The IDs where eliminnation is equal FALSE are mandatory.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">aulaar_meta</span><span class="op">$</span><span class="va">variables</span></code></pre></div>
<div class="sourceCode" id="cb11"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1"></a><span class="co">##       id          text elimination</span></span>
<span id="cb11-2"><a href="#cb11-2"></a><span class="co">## 1    KØN           køn        TRUE</span></span>
<span id="cb11-3"><a href="#cb11-3"></a><span class="co">## 2 PERPCT personer/pct.       FALSE</span></span>
<span id="cb11-4"><a href="#cb11-4"></a><span class="co">## 3    Tid           tid       FALSE</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="values">Values<a class="anchor" aria-label="anchor" href="#values"></a>
</h3>
<p>The values is a list object of all the values in each variable. You use the text column to construct your final query:</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">aulaar_meta</span><span class="op">$</span><span class="va">values</span><span class="op">)</span></code></pre></div>
<div class="sourceCode" id="cb13"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1"></a><span class="co">## List of 3</span></span>
<span id="cb13-2"><a href="#cb13-2"></a><span class="co">##  $ KØN   :'data.frame':  3 obs. of  2 variables:</span></span>
<span id="cb13-3"><a href="#cb13-3"></a><span class="co">##   ..$ id  : chr [1:3] "TOT" "M" "K"</span></span>
<span id="cb13-4"><a href="#cb13-4"></a><span class="co">##   ..$ text: chr [1:3] "I alt" "Mænd" "Kvinder"</span></span>
<span id="cb13-5"><a href="#cb13-5"></a><span class="co">##  $ PERPCT:'data.frame':  2 obs. of  2 variables:</span></span>
<span id="cb13-6"><a href="#cb13-6"></a><span class="co">##   ..$ id  : chr [1:2] "L10" "L9"</span></span>
<span id="cb13-7"><a href="#cb13-7"></a><span class="co">##   ..$ text: chr [1:2] "Procent af arbejdsstyrken" "Ledige (1000 personer)"</span></span>
<span id="cb13-8"><a href="#cb13-8"></a><span class="co">##  $ Tid   :'data.frame':  36 obs. of  2 variables:</span></span>
<span id="cb13-9"><a href="#cb13-9"></a><span class="co">##   ..$ id  : chr [1:36] "1979" "1980" "1981" "1982" ...</span></span>
<span id="cb13-10"><a href="#cb13-10"></a><span class="co">##   ..$ text: chr [1:36] "1979" "1980" "1981" "1982" ...</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="get-data">Get data<a class="anchor" aria-label="anchor" href="#get-data"></a>
</h2>
<p>You need to build your query based on the text column that each variable contains in the meta_data$values list.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">aulaar</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/dst_get_data.html">dst_get_data</a></span><span class="op">(</span>table <span class="op">=</span> <span class="st">"AULAAR"</span>, KØN <span class="op">=</span> <span class="st">"Total"</span>, PERPCT <span class="op">=</span> <span class="st">"Per cent of the labour force"</span>, Tid <span class="op">=</span> <span class="fl">2013</span>,
                       lang <span class="op">=</span> <span class="st">"en"</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">aulaar</span><span class="op">)</span></code></pre></div>
<div class="sourceCode" id="cb15"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1"></a><span class="co">## 'data.frame':    1 obs. of  4 variables:</span></span>
<span id="cb15-2"><a href="#cb15-2"></a><span class="co">##  $ KØN   : chr "Total"</span></span>
<span id="cb15-3"><a href="#cb15-3"></a><span class="co">##  $ PERPCT: chr "Per cent of the labour force"</span></span>
<span id="cb15-4"><a href="#cb15-4"></a><span class="co">##  $ TID   : POSIXct, format: "2013-01-01"</span></span>
<span id="cb15-5"><a href="#cb15-5"></a><span class="co">##  $ value : num 4.4</span></span></code></pre></div>
<p>In the request above I don’t supply the meta_data to the dst_get_data function, but this is possible as I will show below. It’s a good idea to supply the meta data to the dst_get_data function if you query the table more than once. If you don’t supply the meta data the dst_get_data function will request the meta data for the table and this will be very ineffecient.</p>
<p>Let’s query the statbank using more than one value for each variable.</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">folk1_meta</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/dst_meta.html">dst_meta</a></span><span class="op">(</span><span class="st">"folk1"</span>, lang <span class="op">=</span> <span class="st">"da"</span><span class="op">)</span>

<span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="fu"><a href="reference/dst_get_data.html">dst_get_data</a></span><span class="op">(</span>table <span class="op">=</span> <span class="st">"folk1"</span>, 
             OMRÅDE <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Hele landet"</span>, <span class="st">"København"</span>, <span class="st">"Frederiksberg"</span>, <span class="st">"Odense"</span><span class="op">)</span>, 
             STATSB <span class="op">=</span> <span class="st">"Danmark"</span>, 
             TID <span class="op">=</span> <span class="st">"*"</span>, 
             lang <span class="op">=</span> <span class="st">"da"</span>, 
             meta_data <span class="op">=</span> <span class="va">folk1_meta</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<div class="sourceCode" id="cb17"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1"></a><span class="co">## 'data.frame':    124 obs. of  4 variables:</span></span>
<span id="cb17-2"><a href="#cb17-2"></a><span class="co">##  $ OMRÅDE: chr  "Hele landet" "Hele landet" "Hele landet" "Hele landet" ...</span></span>
<span id="cb17-3"><a href="#cb17-3"></a><span class="co">##  $ STATSB: chr  "Danmark" "Danmark" "Danmark" "Danmark" ...</span></span>
<span id="cb17-4"><a href="#cb17-4"></a><span class="co">##  $ TID   : POSIXct, format: "2008-01-01" "2008-04-01" ...</span></span>
<span id="cb17-5"><a href="#cb17-5"></a><span class="co">##  $ value : int  5177301 5180007 5185500 5190271 5191263 5192575 5198180 5202378 5204798 5205473 ...</span></span></code></pre></div>
<p>I can also build a query beforehand and then use the query in the query parameter. This might be a good way to split your script up into smaller pieces and make it more structured.</p>
<p>You might have noticed that I use the * as a value in the TID variable. You can use the star as a alternative to writing all the text values for the variable.</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">my_query</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>OMRÅDE <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Hele landet"</span>, <span class="st">"København"</span>, <span class="st">"Frederiksberg"</span>, <span class="st">"Odense"</span><span class="op">)</span>,
                 STATSB <span class="op">=</span> <span class="st">"Danmark"</span>,
                 TID <span class="op">=</span> <span class="st">"*"</span><span class="op">)</span>

<span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="fu"><a href="reference/dst_get_data.html">dst_get_data</a></span><span class="op">(</span>table <span class="op">=</span> <span class="st">"folk1"</span>, query <span class="op">=</span> <span class="va">my_query</span>, lang <span class="op">=</span> <span class="st">"da"</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<div class="sourceCode" id="cb19"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1"></a><span class="co">## 'data.frame':    124 obs. of  4 variables:</span></span>
<span id="cb19-2"><a href="#cb19-2"></a><span class="co">##  $ OMRÅDE: chr  "Hele landet" "Hele landet" "Hele landet" "Hele landet" ...</span></span>
<span id="cb19-3"><a href="#cb19-3"></a><span class="co">##  $ STATSB: chr  "Danmark" "Danmark" "Danmark" "Danmark" ...</span></span>
<span id="cb19-4"><a href="#cb19-4"></a><span class="co">##  $ TID   : POSIXct, format: "2008-01-01" "2008-04-01" ...</span></span>
<span id="cb19-5"><a href="#cb19-5"></a><span class="co">##  $ value : int  5177301 5180007 5185500 5190271 5191263 5192575 5198180 5202378 5204798 5205473 ...</span></span></code></pre></div>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="fu"><a href="reference/dst_get_data.html">dst_get_data</a></span><span class="op">(</span>table <span class="op">=</span> <span class="st">"AUP01"</span>, OMRÅDE <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Hele landet"</span><span class="op">)</span>, TID <span class="op">=</span> <span class="st">"*"</span>, lang <span class="op">=</span> <span class="st">"da"</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<div class="sourceCode" id="cb21"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1"></a><span class="co">## 'data.frame':    103 obs. of  3 variables:</span></span>
<span id="cb21-2"><a href="#cb21-2"></a><span class="co">##  $ OMRÅDE: chr  "Hele landet" "Hele landet" "Hele landet" "Hele landet" ...</span></span>
<span id="cb21-3"><a href="#cb21-3"></a><span class="co">##  $ TID   : POSIXct, format: "2007-01-01" "2007-02-01" ...</span></span>
<span id="cb21-4"><a href="#cb21-4"></a><span class="co">##  $ value : num  4.6 4.5 4.3 4 3.7 3.5 3.2 3 3.1 3 ...</span></span></code></pre></div>
<p>If you run into problems, then try to set the parse_dst_tid parameter to FALSE as there are few datasets with non-standard date formats.</p>
<p>Don’t hesitate to submit an issue or question on github and I’ll try to help as much as I can.</p>
</div>
</div>
  </div>

  <div class="col-md-3" id="pkgdown-sidebar">
<div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li>Browse source code at <br><a href="https://github.com/rOpenGov/dkstat/" class="external-link">https://​github.com/​rOpenGov/​dkstat/​</a>
</li>
<li>Report a bug at <br><a href="https://github.com/rOpenGov/dkstat/issues" class="external-link">https://​github.com/​rOpenGov/​dkstat/​issues</a>
</li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="https://www.r-project.org/Licenses/GPL-2" class="external-link">GPL-2</a></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html">Citing dkstat</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Kenneth Rose <br><small class="roles"> Author, maintainer </small>  </li>
<li><a href="authors.html">More on authors...</a></li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="http://ropengov.org/" class="external-link"><img src="https://ropengov.github.io/rogtemplate/reference/figures/ropengov-badge.svg" alt="rOG-badge"></a></li>
</ul>
</div>

  </div>
</div>


    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Kenneth Rose.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 1.9000.9000.9000.</p>
</div>

    </footer>
</div>

  

    <!-- Add ropengov logo -->
  <script src="BS5/logo.js"></script>
</body>
</html>
